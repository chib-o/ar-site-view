<div class="desktop-camera-container" ng-show="!vm.utils.hidden" style="position: absolute; top: {{elem.top || 0}}px; left: {{elem.left || 0}}px; width: {{ vm.utils.container_width  }}px; max-width: {{ vm.utils.container_width }}px; border-radius: 5px; border: 1px solid #ddd; box-shadow: 0 7px 14px 0 rgba(60,66,87, 0.12), 0 3px 6px 0 rgba(0,0,0, 0.12); z-index: 10000;">
    
    <div draggable style="display: inline-block; font-weight: bold; padding: 5px; font-size: 0.8em; float: left; width: 50%;"><i class="bi bi-camera-fill text-muted"></i> Take Photo</div>
    <div style="float: right; width: 50%; text-align: right; padding-top: 5px; padding-right: 5px;">
        <ul style="display: inline-block; margin: 0px; padding: 0px; list-style-type: none;">
            <li style="float: right; display: inline-block;">
                <a href="javascript: void(0)" ng-click="vm.toggleShow()" style="text-decoration: none;">
                    <i class="bi bi-x-lg"></i>
                </a>
            </li>
            <li style="float: right; display: inline-block; margin-right: 5px;">

                <span class="glyphicon glyphicon-record" style="color: red; margin-right: 5px;" ng-show="vm.utils.vid_recorder.is_recording"></span>

                <a href="javascript: void(0)" ng-click="vm.toggleMinimised()" style="text-decoration: none;">
                    <i class="bi bi-dash-lg" ng-show="!vm.utils.minimised"></i>
                    <i class="bi bi-arrows-fullscreen" ng-show="vm.utils.minimised"></i>
                </a>
            </li>
        </ul>
    </div>

    <div style="clear: both;"></div>

    <div ng-show="!vm.utils.minimised">
        <!-- START MAXIMISED CONTENT -->

		    <div style="padding: 5px;">
		        <div class="form-group">
				<select class="form-select" ng-model="vm.utils.active_device" ng-change="vm.utils.startCamera()" ng-options="option.deviceId as option.label for option in vm.utils.devices"></select>
			</div>

			<div ng-show="!vm.utils.photo_taken" class="mt-4">
				<div style="margin-bottom: 10px;">
				
					<div class="row">
						<div class="col-6">
							<button type="button" class="btn" ng-class="{ 'btn-light': !vm.utils.flash, 'btn-primary': vm.utils.flash }" ng-click="vm.utils.toggleFlash();">Flash (<span ng-show="vm.utils.flash">on</span><span ng-show="!vm.utils.flash">off</span>)</button>
						</div>
						<div class="col-6 text-end">
							<button ng-click="vm.utils.takePhoto();" class="btn btn-success"><i class="bi bi-camera-fill"></i> Take Photo</button>
						</div>
					</div>

				</div>

				<div class="responsive-video">
					<video id="{{ vm.utils.directive_id }}-photo-video" width="{{ vm.utils.picture_width }}" height="{{ vm.utils.picture_height }}" autoplay></video>
				</div>

			</div>

			<div ng-show="vm.utils.photo_taken" class="mt-4">

				<div style="margin-bottom: 10px;">

					<div class="row">
						<div class="col-6">
							<button type="button" class="btn btn-danger" ng-click="vm.utils.clearPhoto();">Discard</button>
						</div>
						<div class="col-6 text-end">
							<button type="button" class="btn btn-success" ng-click="vm.utils.savePhoto();"><i class="bi bi-save-fill"></i> Save</button>
						</div>
					</div>

				</div>

				<canvas id="{{ vm.utils.directive_id }}-photo-canvas" width="{{ vm.utils.canvas_width }}" height="{{ vm.utils.canvas_height }}"></canvas>
			</div>

        </div>

        <!-- END MAXIMISED CONTENT -->
    </div>

</div>